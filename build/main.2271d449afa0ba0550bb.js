!function(){"use strict";var e,t=[function(e,t,n){var r=n(1435),o=n(1436),i=n(3),u=n(1434),c=n(2),a=n(1),l=n(1437),s=n(4),d=n.n(s),f=n(1430),h=n(1433);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.Z)(e);if(t){var o=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var p=/^\+?\d+(?:-\d+)*?$/gm,m=function(e){return"".concat(e).trim()},y=function(e){(0,u.Z)(n,e);var t=v(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"validate",value:function(e){var t=m(e.name),n=m(e.phone);return 0===t.length?new Error("Name is required"):0===n.length?new Error("Phone number is required"):p.test(n)?void 0:new Error("Phone number is incorrect.Ex.: +37529-245-48-57")}}]),n}(f.Model);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.Z)(e);if(t){var o=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var Z=function(e){(0,u.Z)(n,e);var t=g(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return e=t.call.apply(t,[this].concat(u)),(0,l.Z)((0,i.Z)(e),"model",y),(0,l.Z)((0,i.Z)(e),"localStorage",new h.LocalStorage("UserCollection")),e}return n}(f.Collection),b=n(1431);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.Z)(e);if(t){var o=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var w=function(e){(0,u.Z)(n,e);var t=E(n);function n(e){var o;return(0,r.Z)(this,n),o=t.call(this,e),(0,l.Z)((0,i.Z)(o),"editMode",!1),(0,l.Z)((0,i.Z)(o),"editTemplate",(0,b.template)(document.getElementById("user-edit-template").innerHTML)),(0,l.Z)((0,i.Z)(o),"template",(0,b.template)(document.getElementById("user-template").innerHTML)),o.listenTo(o.model,"change",o.render),o.listenTo(o.model,"destroy",o.remove),o}return(0,o.Z)(n,[{key:"render",value:function(){var e=this,t=this.model,n=this.editMode?this.editTemplate:this.template;this.el.innerHTML=n(t.toJSON());var r=this.el.getElementsByTagName("button"),o=r[1];if(this.editMode){var i=this.el.getElementsByTagName("form")[0],u=i["user-name"];u.focus(),i.addEventListener("submit",(function(n){n.preventDefault();var r=i["user-phone"],o={name:u.value.trim(),phone:r.value.trim(),updatedAt:Date.now()};t.set(o),t.isValid()?(t.save(),e.toggleEditMode()):alert(t.validationError)})),o.addEventListener("click",(function(){t.set(t.previousAttributes()),e.toggleEditMode()}))}else r[0].addEventListener("click",(function(){e.toggleEditMode()})),o.addEventListener("click",(function(){t.destroy()}));return this}},{key:"toggleEditMode",value:function(){this.editMode=!this.editMode,this.render()}}]),n}(f.View);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.Z)(e);if(t){var o=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("app");if(e){var t=new Z;new(function(e){(0,u.Z)(c,e);var n=R(c);function c(e){var o;(0,r.Z)(this,c),o=n.call(this,e),(0,l.Z)((0,i.Z)(o),"emptyNode",void 0),(0,l.Z)((0,i.Z)(o),"errorNode",void 0),(0,l.Z)((0,i.Z)(o),"listNode",void 0);var u=o.onSubmitForm.bind((0,i.Z)(o));if(document.getElementById("add-form").addEventListener("submit",u),o.emptyNode=document.getElementById("empty"),o.errorNode=document.getElementById("add-error"),o.listNode=document.getElementById("user-list"),o.listenTo(t,"reset",o.fetchAll),o.listenTo(t,"add",o.add),o.listenTo(t,"all",o.render),t.fetch(),0===t.length)for(var a=Date.now(),s=a,f=5;f>0;){var h={createdAt:a,name:d().name.findName(),phone:d().phone.phoneNumber("+#####-###-##-##"),updatedAt:s},v=new y(h);t.create(v),f-=1}return o}return(0,o.Z)(c,[{key:"render",value:function(){return 0===t.length?(this.emptyNode.style.display="block",this.listNode.style.display="none"):(this.emptyNode.style.display="none",this.listNode.style.display="block"),this}},{key:"setAddError",value:function(e){var t="none";e instanceof Error&&(t="block",this.errorNode.innerText=e.message),this.errorNode.style.display=t}},{key:"add",value:function(e){var t=new w({model:e});this.listNode.appendChild(t.render().el)}},{key:"fetchAll",value:function(){t.each(this.add,this)}},{key:"onSubmitForm",value:function(e){this.setAddError(null),e.preventDefault();var n=e.target;if(n instanceof HTMLFormElement){var r=n["user-name"],o=n["user-phone"],i=Date.now(),u={createdAt:i,name:r.value.trim(),phone:o.value.trim(),updatedAt:i},c=new y(u);if(!c.isValid())return void this.setAddError(c.validationError);c.save(),t.create(c),n.reset()}}}]),c}(f.View))({el:e})}}))}],n={};function r(e){var o=n[e];if(o!==undefined)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=function(t,n,o,i){if(!n){var u=Infinity;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],i=e[l][2];for(var c=!0,a=0;a<n.length;a++)(!1&i||u>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[a])}))?n.splice(a--,1):(c=!1,i<u&&(u=i));c&&(e.splice(l--,1),t=o())}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,o,i]},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={0:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,u=n[0],c=n[1],a=n[2],l=0;for(o in c)r.o(c,o)&&(r.m[o]=c[o]);for(a&&a(r),t&&t(n);l<u.length;l++)i=u[l],r.o(e,i)&&e[i]&&e[i][0](),e[u[l]]=0;r.O()},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(undefined,[1],(function(){return r(0)}));o=r.O(o)}();